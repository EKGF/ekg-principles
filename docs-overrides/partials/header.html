{#-
  Custom header override with grid layout:
  Row 1: EKGF logo | centered website title | OMG logo
  Controls are hidden and moved to the tabs row via JS in main.html
-#}
{% set class = "md-header" %}
{% if "navigation.tabs.sticky" in features %}
  {% set class = class ~ " md-header--shadow md-header--lifted" %}
{% elif "navigation.tabs" not in features %}
  {% set class = class ~ " md-header--shadow" %}
{% endif %}
<header class="{{ class }}" data-md-component="header">
  <div class="md-header__inner md-grid">
    <div class="md-header__row md-header__row--top">
      {# Column 1: EKGF logo #}
      <div class="md-header__col md-header__col--logo">
        <div class="md-header__nav-items">
          <label class="md-header__button md-icon" for="__drawer">
            {% set icon = config.theme.icon.menu or "material/menu" %}
            {% include ".icons/" ~ icon ~ ".svg" %}
          </label>
        </div>
        {% include "partials/ekgf-logo.html" %}
      </div>

      {# Column 2: Centered website title #}
      <div class="md-header__col md-header__col--title">
        <div class="md-header__title" data-md-component="header-title">
          <div class="md-header__ellipsis">
            <div class="md-header__topic">
              <span class="md-ellipsis">
                {{ config.site_name }}
              </span>
            </div>
            <div class="md-header__topic" data-md-component="header-topic">
              <span class="md-ellipsis">
                {% if page.meta and page.meta.title %}
                  {{ page.meta.title }}
                {% else %}
                  {{ page.title }}
                {% endif %}
              </span>
            </div>
          </div>
        </div>
      </div>

      {# Column 3: OMG logo #}
      <div class="md-header__col md-header__col--omg">
        {% include "partials/omg-logo.html" %}
      </div>
    </div>

    {# Components for JS to relocate to footer #}
    <div class="ekgf-header-hidden-components">
      {% include "partials/javascripts/palette.html" %}
      {% if config.extra.alternate %}
        {% include "partials/alternate.html" %}
      {% endif %}
      {% if config.repo_url %}
        <div class="md-header__source">
          {% include "partials/source.html" %}
        </div>
      {% endif %}
    </div>

    {# Standard Material search components, kept for JS functionality but hidden visually #}
    {% if "material/search" in config.plugins %}
      {% set search = config.plugins["material/search"] | attr("config") %}
      {% if search.enabled %}
        <div class="ekgf-hidden-search-trigger">
          <label class="md-header__button md-icon" for="__search">
            {% set icon = config.theme.icon.search or "material/magnify" %}
            {% include ".icons/" ~ icon ~ ".svg" %}
          </label>
          {% include "partials/search.html" %}
        </div>
      {% endif %}
    {% endif %}
  </div>
  {% if "navigation.tabs.sticky" in features %}
    {% if "navigation.tabs" in features %}
      {% include "partials/tabs.html" %}
    {% endif %}
  {% endif %}
</header>
